<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <title>Quản lý bàn ăn</title>
    <link rel="stylesheet" href="quanlyban.css">
</head>

<body>
    <header class="topbar">
        <h1 id="title">QUẢN LÝ BÀN ĂN</h1>
    </header>
    <div class="container">
        <div class="header">
            <div class="controls">
                <label>Lọc:
        <select id="filter">
          <option value="all">Tất cả</option>
          <option value="reserved">Đã có khách</option>
          <option value="available">Trống</option>
        </select>
      </label>
                <button id="resetAll">RESET</button>
            </div>
        </div>
        <div class="main-content">
            <div class="info-box">
                <div id="tableInfo">Chọn bàn để xem chi tiết.</div>
            </div>
            <div class="table-grid" id="tableGrid"></div>
        </div>
    </div>

    <script>
        const API = "https://tiemtra.infinityfreeapp.com/quanlyban.php";

        function loadTables() {
            fetch(API)
            .then(res => res.json())
            .then(data => {
                let html = "";
                Object.values(data.tables).forEach(t => {
                    html += `
                        <button class="${t.reserved == 1 ? 'reserved' : 'available'}"
                                onclick="selectTable(${t.id})">
                            Bàn ${t.id}
                        </button>
                    `;
                });
                document.getElementById("tableGrid").innerHTML = html;
            })
        }
        loadTables();
    </script>
</body>


</html>
