<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Đăng Nhập Nhân Viên</title>
<link rel="stylesheet" href="login.css">
<script>
async function login(event){
    event.preventDefault();
    const form = event.target;
    const data = new FormData(form);

    // URL backend trên InfinityFree
    const backendUrl = 'https://tiemtra.infinityfreeapp.com/login.php';

    const resp = await fetch(backendUrl,{
        method: 'POST',
        body: data,
        credentials: 'include' // quan trọng nếu muốn giữ session PHP
    });

    const result = await resp.json();
    if(result.success){
        window.location.href = 'admin.html';
    }else{
        alert(result.message || 'Đăng nhập thất bại');
    }
}

</script>
</head>
<body>
<div id="wrapper">
    <form id="form-login" onsubmit="login(event)">
        <h1 class="form-heading">Đăng Nhập</h1>
        <div class="form-group">
            <input type="text" placeholder="Tên đăng nhập" name="username" required>
        </div>
        <div class="form-group">
            <input type="password" placeholder="Mật khẩu" name="password" required>
        </div>
        <input type="submit" value="Bắt đầu làm việc">
    </form>
</div>
</body>
</html>

